/* CoolClock 3.0.0-pre
 * Global Tick branch with https://github.com/henrahmagix/CoolClock/commit/00d48a01b1aeadbeb0b7d167aca892de78659b76 applied
Copyright (c) 2010-2013, Simon Baird.
All rights reserved. */
window.CoolClock=function(a){return this.init(a)},CoolClock.config={tickDelay:1e3,longTickDelay:15e3,defaultRadius:85,renderRadius:100,defaultSkin:"chunkySwiss",defaultFont:"15px sans-serif",skins:{swissRail:{outerBorder:{lineWidth:2,radius:95,color:"black",alpha:1},smallIndicator:{lineWidth:2,startAt:88,endAt:92,color:"black",alpha:1},largeIndicator:{lineWidth:4,startAt:79,endAt:92,color:"black",alpha:1},hourHand:{lineWidth:8,startAt:-15,endAt:50,color:"black",alpha:1},minuteHand:{lineWidth:7,startAt:-15,endAt:75,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:1,startAt:70,radius:4,fillColor:"red",color:"red",alpha:1}},chunkySwiss:{outerBorder:{lineWidth:4,radius:97,color:"black",alpha:1},smallIndicator:{lineWidth:4,startAt:89,endAt:93,color:"black",alpha:1},largeIndicator:{lineWidth:8,startAt:80,endAt:93,color:"black",alpha:1},hourHand:{lineWidth:12,startAt:-15,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:10,startAt:-15,endAt:85,color:"black",alpha:1},secondHand:{lineWidth:4,startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:2,startAt:70,radius:8,fillColor:"red",color:"red",alpha:1}},chunkySwissOnBlack:{outerBorder:{lineWidth:4,radius:97,color:"white",alpha:1},smallIndicator:{lineWidth:4,startAt:89,endAt:93,color:"white",alpha:1},largeIndicator:{lineWidth:8,startAt:80,endAt:93,color:"white",alpha:1},hourHand:{lineWidth:12,startAt:-15,endAt:60,color:"white",alpha:1},minuteHand:{lineWidth:10,startAt:-15,endAt:85,color:"white",alpha:1},secondHand:{lineWidth:4,startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:2,startAt:70,radius:8,fillColor:"red",color:"red",alpha:1}}},isIE:!!document.all,clockTracker:{},noIdCount:0},CoolClock.tick=function(){for(var a in CoolClock.config.clockTracker){var b=CoolClock.config.clockTracker[a];b.stillHere()&&b.active&&b.refreshDisplay()}this.tickTimeout=setTimeout(CoolClock.tick,CoolClock.config.tickDelay)},CoolClock.prototype={init:function(a){return this.canvasId=a.canvasId,this.skinId=a.skinId||CoolClock.config.defaultSkin,this.font=a.font||CoolClock.config.defaultFont,this.displayRadius=a.displayRadius||CoolClock.config.defaultRadius,this.renderRadius=a.renderRadius||CoolClock.config.renderRadius,this.showSecondHand="boolean"==typeof a.showSecondHand?a.showSecondHand:!0,this.gmtOffset=null!=a.gmtOffset&&""!=a.gmtOffset?parseFloat(a.gmtOffset):null,this.showDigital="boolean"==typeof a.showDigital?a.showDigital:!1,this.showDigital24="boolean"==typeof a.showDigital24?a.showDigital24:!1,this.showDate="boolean"==typeof a.showDate?a.showDate:!1,this.logClock="boolean"==typeof a.logClock?a.logClock:!1,this.logClockRev="boolean"==typeof a.logClock?a.logClockRev:!1,this.tickDelay=CoolClock.config[this.showSecondHand?"tickDelay":"longTickDelay"],this.canvas=document.getElementById(this.canvasId),this.canvas.setAttribute("width",2*this.displayRadius),this.canvas.setAttribute("height",2*this.displayRadius),this.canvas.style.width=2*this.displayRadius+"px",this.canvas.style.height=2*this.displayRadius+"px",this.scale=this.displayRadius/this.renderRadius,this.ctx=this.canvas.getContext("2d"),this.ctx.scale(this.scale,this.scale),CoolClock.config.clockTracker[this.canvasId]=this,this.start(),this},fullCircleAt:function(a,b,c){this.ctx.save(),this.ctx.globalAlpha=c.alpha,this.ctx.lineWidth=c.lineWidth,CoolClock.config.isIE&&(this.ctx.lineWidth=this.ctx.lineWidth*this.scale),this.ctx.beginPath(),this.ctx.arc(a,b,c.radius,0,2*Math.PI,!1),CoolClock.config.isIE&&this.ctx.arc(a,b,c.radius,-.1,.1,!1),c.fillColor&&(this.ctx.fillStyle=c.fillColor,this.ctx.fill()),c.color&&(this.ctx.strokeStyle=c.color,this.ctx.stroke()),this.ctx.restore()},drawTextAt:function(a,b,c,d){d||(d=this.getSkin()),this.ctx.save(),this.ctx.font=d.font||this.font;var e=this.ctx.measureText(a);e.height||(e.height=0,this.ctx.textBaseline="middle"),this.ctx.fillText(a,b-e.width/2,c-e.height/2),this.ctx.restore()},lpad2:function(a){return(10>a?"0":"")+a},tickAngle:function(a){var b=3;return this.logClock?0==a?0:Math.log(a*b)/Math.log(60*b):this.logClockRev?(a=(60-a)%60,1-(0==a?0:Math.log(a*b)/Math.log(60*b))):a/60},timeText:function(a,b,c,d,e){return""+(d?0==a%12?12:a%12:a)+":"+this.lpad2(b)+(e?":"+this.lpad2(c):"")+(d?12>a?" am":" pm":"")},radialLineAtAngle:function(a,b){this.ctx.save(),this.ctx.translate(this.renderRadius,this.renderRadius),this.ctx.rotate(Math.PI*(2*a-.5)),this.ctx.globalAlpha=b.alpha,this.ctx.strokeStyle=b.color,this.ctx.lineWidth=b.lineWidth,CoolClock.config.isIE&&(this.ctx.lineWidth=this.ctx.lineWidth*this.scale),b.radius?this.fullCircleAt(b.startAt,0,b):(this.ctx.beginPath(),this.ctx.moveTo(b.startAt,0),this.ctx.lineTo(b.endAt,0),this.ctx.stroke()),this.ctx.restore()},render:function(a,b,c,d){var e=this.getSkin();this.ctx.clearRect(0,0,2*this.renderRadius,2*this.renderRadius),e.outerBorder&&this.fullCircleAt(this.renderRadius,this.renderRadius,e.outerBorder);for(var f=0;60>f;f++)f%5&&e.smallIndicator&&this.radialLineAtAngle(this.tickAngle(f),e.smallIndicator),!(f%5)&&e.largeIndicator&&this.radialLineAtAngle(this.tickAngle(f),e.largeIndicator);if(this.showDigital||this.showDigital24||this.showDate){var g;g=this.showDigital?this.timeText(a,b,c,!0,!1):this.showDigital24?this.timeText(a,b,c,!1,!0):d,this.drawTextAt(g,this.renderRadius,this.renderRadius+this.renderRadius/2)}var h=5*(a%12)+b/12,i=b+c/60,j=c;e.hourHand&&this.radialLineAtAngle(this.tickAngle(h),e.hourHand),e.minuteHand&&this.radialLineAtAngle(this.tickAngle(i),e.minuteHand),this.showSecondHand&&e.secondHand&&this.radialLineAtAngle(this.tickAngle(j),e.secondHand),CoolClock.config.isIE||(e.hourDecoration&&this.radialLineAtAngle(this.tickAngle(h),e.hourDecoration),e.minDecoration&&this.radialLineAtAngle(this.tickAngle(i),e.minDecoration),this.showSecondHand&&e.secondDecoration&&this.radialLineAtAngle(this.tickAngle(j),e.secondDecoration)),this.extraRender&&this.extraRender(a,b,c)},refreshDisplay:function(){var a=new Date;if(null!=this.gmtOffset){var b=new Date(a.valueOf()+60*60*1e3*this.gmtOffset);this.render(b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.toLocaleDateString())}else this.render(a.getHours(),a.getMinutes(),a.getSeconds(),a.toLocaleDateString())},stillHere:function(){return null!=document.getElementById(this.canvasId)},stop:function(){this.active=!1},start:function(){this.active=!0},getSkin:function(){var a=CoolClock.config.skins[this.skinId];return a||(a=CoolClock.config.skins[CoolClock.config.defaultSkin]),a}},CoolClock.findAndCreateClocks=function(){for(var a=document.getElementsByTagName("canvas"),b=0;b<a.length;b++){var c=a[b].className.split(" ")[0].split(":");"CoolClock"==c[0]&&(a[b].id||(a[b].id="_coolclock_auto_id_"+CoolClock.config.noIdCount++),new CoolClock({canvasId:a[b].id,skinId:c[1],displayRadius:c[2],showSecondHand:"noSeconds"!=c[3],gmtOffset:c[4],showDigital:"showDigital"==c[5],showDigital24:"showDigital24"==c[5],showDate:"showDate"==c[5],logClock:"logClock"==c[6],logClockRev:"logClockRev"==c[6]}))}CoolClock.tick()},window.jQuery&&jQuery(document).ready(CoolClock.findAndCreateClocks);
